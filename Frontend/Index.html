<!DOCTYPE html>
<!-- Este é o arquivo index.html editado especificamente para este projeto --> 
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="css.css" media="screen" />


    <title>[Jornal Global]</title>
    <script>
      // define a função callAPI que pega o nome, email e comentário
      var callAPI = (nome,email,comentario)=>{
          // inicializa um headers object
          var myHeaders = new Headers();
          // adicione o tipo de conteúdo header ao object
          myHeaders.append("Content-Type", "application/json");
          // using built in JSON utility package turn object to string and store in a variable
          var raw = JSON.stringify({"nome":nome,"email":email,"comentario":comentario});
          // create a JSON object with parameters for API call and store in a variable
          var requestOptions = {
              method: 'POST',
              headers: myHeaders,
              body: raw,
              redirect: 'follow'
          };
          // make API call with parameters and use promises to get response
          fetch("https://2l11rb6pba.execute-api.us-east-2.amazonaws.com/Dev", requestOptions)
          .then(response => response.text())
          .then(result => alert(JSON.parse(result).body))
          .catch(error => console.log('error', error));
      }
  </script>
</head>
<body>
    <div id="form-main">
        <div id="form-div">
          <form class="form" form id="contact" method="post">
            <figure>
          
            </figure>
            <h1>Envie sua opinião</h1>
            <p class="name">
              <input name="name" type="text" class="validate[required,custom[onlyLetter],length[0,100]] feedback-input" placeholder="nome" id="nome" />
            </p>
            
            <p class="email">
              <input name="email" type="text" class="validate[required,custom[email]] feedback-input" id="email" placeholder="Email" />
            </p>
            
            <p class="text">
              <textarea name="text" class="validate[required,length[6,300]] feedback-input" id="comentario" placeholder="Comentário"></textarea>
            </p>
            
            
            <div class="submit">
              <button type="button" value="SEND" id="button-blue" onclick="callAPI(document.getElementById('nome').value,document.getElementById('email').value,document.getElementById('comentario').value)">Enviar</button>
              <div class="ease"></div>
            </div>
          </form>
        </div>
        
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="js.js"> </script>
</body>

</html>
